<div class="panel panel-success" style = "margin-top: 1em">
   <div class="panel-heading">Fases</div>
   <div class="panel-body">
     <div ng-show="fases.length > 0">
         <table class="table table-hover table-responsive" width="100%">
           <thead>
              <tr>
                 <th>Nome</th>
              </tr>
           </thead>
            <tbody>
               <tr ng-repeat="fase in fases track by $index" ng-click="criaFase(fase)">
                 <td>{{ fase.nome }}</td>
               </tr>
            </tbody>
         </table>
      </div>
      Existem {{fases.length}} fases.
   </div>
</div>

<button type="button" class="btn btn-primary" ng-click="criaFase()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>  Fase
</button>


<div class="panel panel-success" style = "margin-top: 1em">
   <div class="panel-heading">Subfases</div>
   <div class="panel-body">
     <div ng-show="subfases.length > 0">
       <div class="row">
         <div class="col-md-6">
           <label for="">Mostrar
             <select class="form-control pagination" ng-model="numPerPage" ng-options="numPage for numPage in numsForPage" ng-change="changeNum(numPerPage);"></select>
             itens por página
           </label>
         </div>
         <div class="col-md-6 text-right">
           <div class="form-inline form-group">
             <label for="filter-list">Busca </label>
             <span class="left-inner-addon"><i class="glyphicon glyphicon-search"><input type="text" class="form-control pagination" id="filter-list" placeholder=" Subfase" ng-model="searchText.nome"></i></span>
           </div>
         </div>
       </div>
         <table class="table table-hover  table-responsive" width="100%">
           <thead>
              <tr>
                 <th ng-click="sort('nome')">Nome <span class="glyphicon sort-icon" ng-show="sortKey=='nome'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                 <th ng-click="sort('fase')">Fase <span class="glyphicon sort-icon" ng-show="sortKey=='fase'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
                 <th ng-click="sort('funcoes')">Funções associadas <span class="glyphicon sort-icon" ng-show="sortKey=='funcoes'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span></th>
              </tr>
           </thead>
            <tbody>
               <tr ng-repeat="subfase in filtered = (subfases | filter: searchText) | orderBy:sortKey:reverse | startFrom: (currentPage-1)*numPerPage | limitTo: numPerPage track by $index"  ng-click="criaSubfase(subfase)">
                 <td>{{ subfase.nome }}</td>
                 <td>{{ subfase.fase.nome }}</td>
                 <td>{{ subfase.funcoesTexto }}</td>
               </tr>
            </tbody>
         </table>
        <div class="clearfix" ng-show="subfases.length > numPerPage">
          <uib-pagination total-items="filtered.length" ng-model="currentPage" max-size="maxSize" class="pagination-sm pull-right"
          ng-change="pageChanged(currentPage)" items-per-page="numPerPage" boundary-links="true" rotate="false"
          previous-text = "Anterior" next-text="Próximo" first-text="Primeiro" last-text="Último"></uib-pagination>
        </div>
      </div>
      Existem {{subfases.length}} subfases.
   </div>
</div>

<button type="button" class="btn btn-primary" ng-click="criaSubfase()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Subfase
</button>

<div class="panel panel-success" style = "margin-top: 1em">
   <div class="panel-heading">Seções</div>
   <div class="panel-body">
     <div ng-show="secoes.length > 0">
         <table class="table table-hover table-responsive" width="100%">
           <thead>
              <tr>
                 <th>Nome</th>
              </tr>
           </thead>
            <tbody>
               <tr ng-repeat="secao in secoes track by $index" ng-click="criaSecao(secao)">
                 <td>{{ secao.nome }}</td>
               </tr>
            </tbody>
         </table>
      </div>
      Existem {{secoes.length}} seções.
   </div>
</div>

<button type="button" class="btn btn-primary" ng-click="criaSecao()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Seção
</button>

<div class="panel panel-success" style = "margin-top: 1em">
   <div class="panel-heading">Funções</div>
   <div class="panel-body">
     <div ng-show="funcoes.length > 0">
         <table class="table table-hover table-responsive" width="100%">
           <thead>
              <tr>
                 <th>Nome</th>
                 <th>Seção</th>
              </tr>
           </thead>
            <tbody>
               <tr ng-repeat="funcao in funcoes track by $index"   ng-click="criaFuncao(funcao)">
                 <td>{{ funcao.nome }}</td>
                 <td>{{ funcao.secao.nome }}</td>
               </tr>
            </tbody>
         </table>
      </div>
      Existem {{funcoes.length}} funções.
   </div>
</div>

<button type="button" class="btn btn-primary" ng-click="criaFuncao()">
    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Função
</button>
